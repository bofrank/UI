<html>
<head>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css" />
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	<script src="../js/jquery.watermark.js"></script>
	<script>
		function gothere(){
			//window.open("http://topicb.com/index.php?image="+$("#mysearch").val());
			console.log("this is the gothere function");
			window.open("http://topicb.com/demo/index.php?topic="+$("#mysearch").val());
		}
		$( document ).ready(function() {
			$('#mysearch').watermark('TopicB Search');

			var inputField = $("#mysearch");
      var oldValue = inputField.text();
      inputField.bind("drop", function() {
          //when the drop happens the input value will not be updated yet
          //use a timeout to allow the input value to change.
          setTimeout($.proxy(function() {
              if (this.value !== oldValue) {
                  $(this).trigger('change');
              }
          }, this), 0);
      });
      $(document).on("change","#mysearch", function() {
        console.log("this is the function bound to mysearch");
        var tempText=this.value.substring(0, 4);
        if((tempText=="http")&&((this.value != "")||(this.value != "Drag image or text here to chat"))){
          oldValue = this.value;
          gothere();
          $("#mysearch").val("");
        }
      });

		});
		$(document).keypress(function(e) {
    	if(e.which == 13) {
      	gothere();
    	}
		});
		$(function() {
    var availableTags = [
"RaShaun",
"Avril",
"Bailey",
"Baldwin",
"Bennett",
"Bradford",
"Britt",
"Burley",
"Carpenter",
"Chancellor",
"Coyle",
"Dobbs",
"Gilliam",
"Gresham",
"Hauschka",
"Helfet",
"Hill",
"Irvin",
"Jackson",
"Jeanpierre",
"Johnson",
"Kearse",
"Lane",
"Lewis",
"Lockette",
"Lynch",
"Maxwell",
"McDaniel",
"Michael",
"Moeaki",
"Morgan",
"Norwood",
"Okung",
"PierreLouis",
"Richardson",
"Robertson",
"Ryan",
"Schofield",
"Shead",
"Sherman",
"Simon",
"Smith",
"Sweezy",
"Thomas",
"Tukuafu",
"Turbin",
"Unger",
"Wagner",
"Walters",
"Williams",
"Willson",
"Wilson",
"Wright"
    ];
    $( "#mysearch" ).autocomplete({
      source: availableTags,
      change: function( event, ui ) {
      	return gothere();
      }
    });
    //$( "#mysearch" ).on( "autocompleteselect", function( event, ui ) {gothere();} );
  });
		/*
			$(function(){
		    $("img").draggable({
	        revert : function(event, ui) {
	            // on older version of jQuery use "draggable"
	            // $(this).data("draggable")
	            // on 2.x versions of jQuery use "ui-draggable"
	            // $(this).data("ui-draggable")
	            $(this).data("uiDraggable").originalPosition = {
	                top : 0,
	                left : 0
	            };
	            $("#imgurl").text($(this).attr("src"));
	            // return boolean
	            return !event;
	            // that evaluate like this:
	            // return event !== false ? false : true;
	        },
	        helper:"clone"
    		});
    		$("#mysearch").droppable({
		      drop: function(event,ui){
		        $(this).css("border","2px solid #f00");
		      }
		    });
		  });
*/

	</script>
	<style>
		#ui-id-1{
			font-size:10px;
		}
	</style>
</head>
<body>
	<img src="images/image1.png" />
	<div style="margin-top:-919px;margin-left:375px;width:300px;border:1px solid #ff0000;">
		<img src="images/icon_topicb.jpg" style="margin-bottom:-9px;cursor:pointer;" onclick="gothere();" />
		<input id="mysearch" type="text" style="width:120px;" />
	</div>
	<div style="width:300px;height:100px;position:relative;top:582px;left:820px;">
  <div style="width:270px;margin-left:auto;margin-right:auto;padding-left:15px;padding-right:15px;background:#1a2635;">

          <iframe style="border:none;height:290px;margin-top:10px;overflow:hidden;width:103%;" src="../index_chat.php?chatter=0000000000&amp;chatee=1111111111&amp;topicinit=sports" id="chatBox"></iframe>

        </div>
</div>
</body>
</html>